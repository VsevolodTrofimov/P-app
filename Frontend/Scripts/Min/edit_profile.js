function change_password(){old_password=$("#old_password").val(),new_password=$("#new_password").val(),popup.hide()}function create_contact(){contact_type=$("#new_contact_type").val(),contact_info=$("#new_contact_info").val(),add_contact("<div class='card-contacts__item'><h5>"+contact_type+"</h5><span>"+contact_info+"</span></div>"),popup.hide()}function add_contact(t){t=$(t),$("#contacts").append($(t)),$(t).children("span").attr("contenteditable","true").css("border-bottom","1px dashed #2196F3")}function upload_avatar(t){var o=t.target.files[0],n=new FileReader;console.log(o,n),n.readAsText(o,"UTF-8"),n.onload=function(t){var o=t.target.result;console.log(o),$.post("УРЛ ЗАГРУЗКИ",{file:o})}}$(document).ready(function(){function t(){o?($("[contenteditable]").attr("contenteditable","false").css("border-bottom","1px dashed transparent"),$("#add_contact").css("transform","scale(0)"),$(".card-person__avatar").css("cursor","default"),o=!1):($(".card-contacts__item>span").attr("contenteditable","true").css("border-bottom","1px dashed #2196F3"),$("#add_contact").css("transform","scale(1)"),$(".card-person__avatar").css("cursor","pointer"),$(".card-person").append(n),o=!0)}$(".card-contacts__item>span").css("border-bottom","1px dashed transparent");var o=!1;$("#fab").click(function(o){t()});var n=$("<input hidden type='file'>");$(".card-person__avatar").bind({click:function(t){o&&(console.log("clicked"),n.click())},mouseenter:function(t){o&&tooltip.show(this,"Изменить")},mouseleave:function(t){o&&tooltip.hide()}}),n.change(function(t){upload_avatar(t)}),$("#add_contact").click(function(t){function o(){var t=["Skype","Codefrces","VK","Facebook","Dnevnik.ru"],o="";return t.forEach(function(t){o+="<option value='"+t+"'>"+t+"</option>"}),o}popup.show("<select id='new_contact_type'>"+o()+"</select><br><input type='text' id='new_contact_info'><label>Контакная информация</label><br><button class='button--ghost' id='create_contact' onclick='create_contact()' style='float:right'>Добавить</button>",{"padding-bottom":"0.3rem",width:"20rem"},function(){$("#popup").children("select")[0].focus()})}),$("#change-password").click(function(t){popup.show("<input type='password' name='old_password' pattern='.{8,}'><label>Старый пароль</label><br><input type='password' name='new_password' pattern='.{8,}'><label>Новый Пароль</label><br><button class='button--ghost' onclick='change_password()' style='float:right'>Сменить</button>",{"padding-top":"0.3rem","padding-bottom":"0.3rem",width:"20rem"},function(){$("#popup").children("input")[0].focus()})})});