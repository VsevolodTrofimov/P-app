<script>function get_description(t){return console.log(mark_descriptions),t=t.split("_"),console.log(mark_descriptions[t[1]][t[2]]),mark_descriptions[t[1]][t[2]]}var mark_descriptions={kursA:{m4:{type:"Тест",name:"a",percentage:1,done:156,total:1e4,date:"18.10.2015"},m5:{type:"Тест",name:"Палеоназмы",percentage:74,done:14,total:19,date:"12.10.2015"}}};$(document).ready(function(){$(".card-marks__marks>button").blur(function(){$(".marks__tooltip").css({top:"-100%",left:"-100%",opacity:0}),$(this).removeClass("open")}),$(".card-marks__marks>button").focus(function(){$(".card-marks__marks>button").removeClass("open");var t=$(this).offset().left+$(this).outerWidth()/2,e=$(this).offset().top+$(this).outerWidth(),o=get_description($(this).attr("id"));console.log(o,t,e),$(".tooltip__heading").text(o.type+" «"+o.name+"»"),$(".tooltip__results").html(o.percentage+"%<span>("+o.done+" из "+o.total+")</span>"),$(".tooltip__date").text(humanize.date(o.date)),$(".marks__tooltip").css({top:e+"px",left:t-$(".marks__tooltip").outerWidth()/2+"px",opacity:1}),$(this).addClass("open")})});</script>