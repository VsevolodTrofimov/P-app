describe("Test editor",function(){var t=editor.test_data;beforeEach(function(){t.tasks=[]}),describe("Datastruct",function(){it("should be defined",function(){expect(t).toBeDefined()}),describe("Adding",function(){it("to empty",function(){var e={val:"sample"};t.add(e),expect(t.tasks.length).toEqual(1),expect(t.tasks[0].content[0]).toEqual(e)}),it("to big test",function(){for(var e={val:"sample"},a=0;a<10;a++)t.add(a);t.add(e),expect(t.tasks.length).toEqual(11),expect(t.tasks[10].content[0]).toEqual(e)})}),describe("Deleting",function(){it("from signle blank task",function(){var e={val:"sample"};t.add(e),t.delete({task:0,number:0}),expect(t.tasks.length).toEqual(1),expect(t.tasks[0].content.length).toEqual(0)}),it("from end of big task",function(){var e={val:"sample"};t.add(e);for(var a=0;a<10;a++)t.change(void 0,{task:0,number:a+1},{i:a+1});t.delete({task:0,number:10}),expect(t.tasks.length).toEqual(1),expect(t.tasks[0].content.length).toEqual(10),expect(t.tasks[0].content[9].i).toEqual(9)}),it("from start of big task",function(){var e={val:"sample"};t.add(e);for(var a=0;a<10;a++)t.change(void 0,{task:0,number:a+1},{i:a+1});t.delete({task:0,number:0}),expect(t.tasks.length).toEqual(1),expect(t.tasks[0].content.length).toEqual(10),expect(t.tasks[0].content[9].i).toEqual(10),expect(t.tasks[0].content[0].i).toEqual(1)}),it("from middle of big task",function(){var e={val:"sample"};t.add(e);for(var a=0;a<10;a++)t.change(void 0,{task:0,number:a+1},{i:a+1});t.delete({task:0,number:5}),expect(t.tasks.length).toEqual(1),expect(t.tasks[0].content.length).toEqual(10),expect(t.tasks[0].content[9].i).toEqual(10),expect(t.tasks[0].content[0]).toEqual(e)}),it("task",function(){for(var e=0;e<10;e++)t.add({i:e+1});t.delete_task(0),expect(t.tasks.length).toEqual(9),expect(t.tasks[0].content[0].i).toEqual(2),t.delete_task(8),expect(t.tasks.length).toEqual(8),expect(t.tasks[7].content[0].i).toEqual(9),t.delete_task(3),expect(t.tasks.length).toEqual(7),expect(t.tasks[3].content[0].i).toEqual(6)})}),describe("Chnaging",function(){var e={val:"a"},a={val:"b"},n={val:"c"};beforeEach(function(){t.add(e),t.add(a)}),it("should move across tasks",function(){t.change({task:1,number:0},{task:0,number:1},a),expect(t.tasks[0].content[0]).toEqual(e),expect(t.tasks[0].content[1]).toEqual(a),expect(t.tasks[1].content.length).toEqual(0)}),it("should insert in empty task",function(){t.change({task:1,number:0},{task:0,number:1},a),t.change(void 0,{task:1,number:0},n),expect(t.tasks[1].content[0]).toEqual(n),expect(t.tasks[1].content.length).toEqual(1)}),it("should insert in full task",function(){t.change({task:1,number:0},{task:0,number:1},a),t.change(void 0,{task:0,number:1},n),expect(t.tasks[0].content[0]).toEqual(e),expect(t.tasks[0].content[1]).toEqual(n),expect(t.tasks[0].content[2]).toEqual(a)}),it("should update value",function(){t.update({task:0,number:0},n),expect(t.tasks[0].content[0]).toEqual(n)}),it("should redirect update from cahnge",function(){t.change({task:0,number:0},{task:0,number:0},n),expect(t.tasks[0].content[0]).toEqual(n),expect(t.tasks[0].content.length).toEqual(1)})})})});