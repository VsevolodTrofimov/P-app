var pull_put={is_pulled:!1,reset_sync:!1,reset_default:function(){},reset:function(){pull_put.pre_actions.reset(),pull_put.ui.element=void 0,pull_put.ui.hide(),$placeholder.remove(),indicator.hide(),pull_put.ui.$.find(".__content").removeAttr("state"),"undefiend"!=typeof tooltip&&tooltip.hide(),pull_put.cancel_action()},pre_actions:{cancel:function(){},save:function(){},delete:function(){},add:function(){},reset:function(){},pull:function(t){},put:function(t,u){}},actions:{add:function(){}},cancel_action:function(){}};$(document).ready(function(){$("body").append(pull_put.ui.$),$(".pull_put_ui .__actions .m--cancel").click(function(t){pull_put.pre_actions.cancel(),pull_put.ui.element=pull_put.ui.proto_element,pull_put.ui.element.removeClass("m--pullable"),pull_put.ui.element.removeClass("m--put-zone"),pull_put.puller.cancel()}),$(".pull_put_ui .__actions .m--save").click(function(t){pull_put.pre_actions.save(),pull_put.puller.cancel()}),$(".pull_put_ui .__actions .m--delete").click(function(t){pull_put.pre_actions.delete(),pull_put.ui.element=$(""),pull_put.reset()}),$(".pull_put_ui .__actions .m--add").click(function(t){pull_put.pre_actions.add(),pull_put.actions.add(),pull_put.reset()})}),pull_put.puller=function(){function t(t){pull_put.ui.element&&pull_put.puller.cancel(),$placeholder.html(""),$placeholder.css({width:t.outerWidth(),height:t.outerHeight(),marginBottom:t.css("margin-bottom"),marginTop:t.css("margin-top"),marginLeft:t.css("margin-left"),marginRight:t.css("margin-right")}),t.after($placeholder)}return $placeholder=$("<div class='m--pull_put_empty'></div>"),exports={had_clone:!1,cancel:function(){$placeholder.replaceWith(pull_put.ui.element),pull_put.reset()},add:function(u,e,i,l,n,p){u=$(u).first(),u.addClass("m--pullable"),u.click(function(u){if(a=$(this),!pull_put.is_pulled){pull_put.pre_actions.pull(a);var o=this.getBoundingClientRect().width;if(n){var a=$(this).clone();pull_put.puller.had_clone=!0}else{var a=$(this);t(a)}pull_put.ui.get(a,o,e,l,p),i&&pull_put.ui.add_action(i.icon,i.tip,i._action)}})}},exports}(),pull_put.put_zone=function(){var t={add:function(t,u,e){t=$(t).first(),t.addClass("m--put-zone"),t.click(function(t){if(pull_put.is_pulled&&!pull_put.ui.$.find($(this))[0]){var i=$(this);pull_put.pre_actions.put(i,pull_put.ui.element),u(t,i,pull_put.ui.element),e&&e(i)}})}};return t}(),pull_put.ui=function(){function t(t,u,e){var i=$('<div class="card m--circle" tip="'+u+'"><button class="m--ghost m--icon">'+t+"</button></div>");return i.click(function(t){e(t)}),i}return $ui=$(loads.get("Elements/Modules/UI/pull_put/")),$ui.__actions__additional=$ui.find(".__actions>.__additional"),$ui.__content=$ui.find(".__content"),exports={added_card:!1,$:$ui,element:void 0,proto_element:void 0,additional_margin:0,add_action:function(u,e,i){if("object"==typeof u){var l=u;u=l.icon,e=l.tip,i=l._action}$new_button=t(u,e,i),$ui.__actions__additional.html($new_button)},get:function(t,u,e,i,l){"undefined"==typeof e&&(e=[]),$ui.removeAttr("style"),l?$ui.__content.addClass("card"):$ui.__content.removeClass("card"),$ui.__content.html(t),$ui.__actions__additional.html(""),$ui.css("margin-left",-u/2+pull_put.ui.additional_margin),$ui.__content.css("width",u-pull_put.ui.additional_margin),pull_put.ui.element=t,e.indexOf("delete")>-1?$ui.find(".__actions button.m--delete").parent().show():$ui.find(".__actions button.m--delete").parent().hide(),e.indexOf("add")>-1?$ui.find(".__actions button.m--add").parent().show():$ui.find(".__actions button.m--add").parent().hide(),e.indexOf("save")>-1?(pull_put.ui.proto_element=t.clone(),$ui.find(".__actions button.m--save").parent().show()):(pull_put.ui.proto_element=t,$ui.find(".__actions button.m--save").parent().hide()),i&&i(),pull_put.ui.show(u)},show:function(t){"undefined"!=typeof editor&&($(".__task").slice(-2).addClass("m--stand-out"),$(".__put-margin").last().addClass("m--stand-out")),$ui.removeClass("m--hidden"),setTimeout(function(){pull_put.is_pulled=!0;var u=window.innerWidth,e=$ui.width()-t/2+pull_put.ui.additional_margin-u/2;e>0&&$ui.css("right","16px")},300)},hide:function(){"undefined"!=typeof editor&&$(".m--stand-out").removeClass("m--stand-out"),$ui.addClass("m--hidden"),setTimeout(function(){pull_put.is_pulled=!1,setTimeout(tooltip.hide,100)},300)}},exports}();