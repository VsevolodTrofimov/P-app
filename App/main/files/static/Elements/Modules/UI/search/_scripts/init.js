var search;!function(){var e=function(e){var s=e.$.find(".__query").val(),r={};e.types_active.indexOf("course")!==-1&&(r.courses={}),e.types_active.indexOf("user")!==-1&&(e.course_id?r.users={course_id:e.course_id}:r.users={});var c=e.types_active.indexOf("test")!==-1,t=e.types_active.indexOf("material")!==-1;return c&&t?r.elements={}:c?r.elements={type:"test"}:t&&(r.elements={type:"material"}),e.course_id&&r.elements&&(r.elements.course_id=e.course_id),$.ajax({url:"/func/search/",type:"POST",data:{csrfmiddlewaretoken:django.csrf_token,search_query:s,search_types:JSON.stringify(r)}})};$(document).ready(function(){search=new Search(e,["test","material","user","course"],["Тесты","Материалы","Пользователи","Открытые курсы"],["test","material"]),$(".header>.__search>button").click(function(){search.is_shown?search.hide():search.show()}),search.$.find(".m--close").click(function(e){search.hide()}),search.url.indexOf("course")>-1&&(exports.course_id="{{course.id}}")})}();