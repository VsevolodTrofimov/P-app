var results_display={};results_display.swap_answer=function(a,e,s,r){var t=$(e.make_answer(a.user_answer,a.answer,a.user_score,a.worth,a.result,a));a.user_answer===a.answer?s.replaceWith(t):s.replaceWith(t),results_display.answer_decorator&&results_display.answer_decorator(t,a,r)},results_display.calculate_score=function(){var a=$(".set_mark .__current"),e=$(".set_mark .__max"),s=0,r=0;return a.each(function(){s+=parseInt(this.innerHTML)}),e.each(function(){r+=parseInt(this.innerHTML)}),{score:s,overall_score:r}},results_display.init=function(a,e,s){test_manager.load(a),summary.make(a,e,results_display.make_summary_item),results_display.update_mark(s.mark,s)},results_display.make_summary_item=function(a,e,s,r,t){var l=$(loads.get("Elements/Modules/UI/summary/__summary_item/")),n=generate.data[r.attr("type")][r.attr("subtype")].external,u=l.find(".__value"),_=l.find(".__icon");if(e=n.get_summary(e,t)||"Пропущено",l.find(".__number").html(a+" "),u.html(e),summary.set_icon(t.result,_),console.log(t),"neutral"==t.result){var m=icons.neutral.tip;m.replace("${got}",t.user_score),m.replace("${max}",t.worth),_.attr("tip",m)}return results_display.swap_answer(t,n,r,s),l},results_display.update_mark=function(a,e){panel.actions.show(),panel.actions.html('<b class="summary-mark">'+a.value+"</b>("+e.score+" из "+e.overall_score+")"),$(".summary-mark").addClass("m--"+a.quality),$(".summary-mark").css("margin-right",".5em")};