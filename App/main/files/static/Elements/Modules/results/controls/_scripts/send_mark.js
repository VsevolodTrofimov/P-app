results_controls.change_score_view=function(s,e,t,r,n){var o=function(s){s.removeClass("m--negative"),s.removeClass("m--neutral"),s.removeClass("m--positive")},a=results_display.calculate_score(),i=$('[href$="/'+results_controls.active_student+'"]').parent().find('button[test="'+results_controls.active_test+'"]'),c=$(".summary-item").eq(s).find("button"),u=$(".summary-mark");o(i),o(u),i.addClass("m--"+e.quality).text(e.value),results_display.update_mark(e,a),t===r?(summary.set_icon("right",n),summary.set_icon("right",c)):t>0?(summary.set_icon("forgiving",n),summary.set_icon("forgiving",c)):(summary.set_icon("wrong",n),summary.set_icon("wrong",c))},results_controls.send_mark=function(s,e,t,r){summary.set_icon("spinner",r),$.ajax({url:"/test/change_score/",type:"POST",data:{csrfmiddlewaretoken:django.csrf_token,course_id:django.course.id,test_id:results_controls.active_test,user_id:results_controls.active_student,answer_id:s,score:e}}).success(function(n){results_controls.change_score_view(s,n,e,t,r)}).error(function(s){notification.show("error",s)})},$(document).ready(function(){summary.add_icon("spinner",loads["Elements/Icons/spinner.svg"],"Сохраняем на сервере","m--neutral")});