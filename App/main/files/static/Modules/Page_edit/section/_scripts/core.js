section_editor={},section_editor.init_done=!1,section_editor.init=function(arguments){section_editor.$parent=arguments.$parent.first(),defined(arguments.$section_template)?section_editor.$section_template=arguments.$section_template:section_editor.$section_template=$('<section class="course-part"><h3>Новая секция</h3></section>'),section_editor.section_selector=arguments.section_selector,section_editor.heading_selector=arguments.heading_selector,section_editor.item_selector=arguments.item_selector,defined(arguments.empty_message)?section_editor.empty_message=arguments.empty_message:section_editor.empty_message="Пустая секция",defined(arguments.add_button_text)?section_editor.add_button_text=arguments.add_button_text:section_editor.add_button_text="Добавить секцию",defined(arguments.replace)?section_editor.replace=arguments.replace:section_editor.replace=!1,defined(arguments.no_publish)?section_editor.no_publish=arguments.no_publish:section_editor.no_publish=!1,defined(arguments.accordion)?section_editor.accordion=arguments.accordion:section_editor.accordion=!1,defined(arguments.edit_start)?section_editor.edit_start=arguments.edit_start:section_editor.edit_start=function(){},defined(arguments.edit_end)?section_editor.edit_end=arguments.edit_end:section_editor.edit_end=function(){},defined(arguments._save_callback)?section_editor._save_callback=arguments._save_callback:section_editor._save_callback=function(){},defined(arguments._put_callback)?section_editor._put_callback=arguments._put_callback:section_editor._put_callback=function(){},defined(arguments.pull)?(defined(arguments.pull.actions)?section_editor.pull=arguments.pull:section_editor.pull.actions=[],section_editor.pull.func=arguments.pull.func||function(){}):section_editor.pull={actions:[],func:function(){}};var e=arguments.unordered_heading;section_editor.$parent.find(section_editor.section_selector).each(function(t,i){$(this).find(section_editor.heading_selector).text()===e&&(section_editor.$unordered=$(this),section_editor.$parent.prepend(section_editor.$unoredered))}),setTimeout(function(){defined(section_editor.$unordered)||(section_editor.$unordered=section_editor.add_section(),section_editor.$unordered.find(section_editor.heading_selector).text(e),section_editor.end_section_editing(section_editor.$unordered)),section_editor.no_publish&&section_editor.$unordered.find(section_editor.item_selector).addClass("m--was-unpublished")},100),section_editor.$add_button=$('<a class="m--card"><button class="m--flat" id="edit_toggle">'+section_editor.add_button_text+"</button></a>"),$(".linkbox").last().append(section_editor.$add_button),section_editor.$add_button.click(function(e){section_editor.add_section()}),section_editor.block_editing(),section_editor.$parent.find(".m--empty").remove(),section_editor.check_empty("_all"),pull_put.cancel_action=indicator.hide,section_editor.init_done=!0};